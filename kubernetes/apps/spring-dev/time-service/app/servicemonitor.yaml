---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: time-service
  namespace: spring-dev
  labels:
    app.kubernetes.io/component: main
    app.kubernetes.io/instance: time-service
    app.kubernetes.io/name: time-service
spec:
  endpoints:
    - port: http
      path: '/actuator/prometheus'
  namespaceSelector:
    matchNames:
      - spring-dev
  selector:                                                                                                                                                                                                                                                                                                                       
    matchLabels:                                                                                                                                                                                                                                                                                                                  
      app.kubernetes.io/component: main
      app.kubernetes.io/instance: time-service
      app.kubernetes.io/name: time-service
      prometheus-operator/monitor: "true"  