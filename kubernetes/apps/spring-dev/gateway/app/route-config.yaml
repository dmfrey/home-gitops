apiVersion: "tanzu.vmware.com/v1"
kind: SpringCloudGatewayRouteConfig
metadata:
  name: spring-dev-gateway-routes
  namespace: spring-dev
spec:
  routes:
    - uri: http://time-service.spring-dev.svc.cluster.local:8080
      ssoEnabled: true
      predicates:
        - Path=/time/**
      filters:
        - TokenRelay=
    - uri: http://commerce.spring-dev.svc.cluster.local:8080
      ssoEnabled: false
      predicates:
        - Path=/api/v1/cart/**
      filters:
        - StripPrefix=0
    - uri: http://inventory.spring-dev.svc.cluster.local:8080
      ssoEnabled: false
      predicates:
        - Path=/api/products/**
      filters:
        - StripPrefix=0
    - uri: http://inventory.spring-dev.svc.cluster.local:8080
      ssoEnabled: false
      predicates:
        - Path=/api/catalogs
      filters:
        - StripPrefix=0
    - uri: http://monomart-ui.spring-dev.svc.cluster.local:8080
      ssoEnabled: false
      predicates:
        - Path=/**
      filters:
        - StripPrefix=0
