apiVersion: volsync.backube/v1alpha1                                                                                                                                                                                                                                                               
kind: ReplicationSource                                                                                                                                                                                                                                                                            
metadata:                                                                                                                                                                                                                                                                                          
  annotations:                                                                                                                                                                                                                                                                                     
    vpn.home.arpa/enabled: "false"                                                                                                                                                                                                                                                                 
  # creationTimestamp: "2024-05-11T00:49:08Z"                                                                                                                                                                                                                                                        
  # generation: 1                                                                                                                                                                                                                                                                                    
  labels:                                                                                                                                                                                                                                                                                          
    app.kubernetes.io/name: sonarr                                                                                                                                                                                                                                                                 
    kustomize.toolkit.fluxcd.io/name: cluster-apps-sonarr                                                                                                                                                                                                                                          
    kustomize.toolkit.fluxcd.io/namespace: flux-system                                                                                                                                                                                                                                             
  name: sonarr                                                                                                                                                                                                                                                                                     
  namespace: media                                                                                                                                                                                                                                                                                 
  # resourceVersion: "30421524"                                                                                                                                                                                                                                                                      
  # uid: 3bf71d6f-75d0-4517-9b19-f2f0ef25bedc                                                                                                                                                                                                                                                        
spec:                                                                                                                                                                                                                                                                                              
  restic:                                                                                                                                                                                                                                                                                          
    cacheCapacity: 1Gi                                                                                                                                                                                                                                                                             
    cacheStorageClassName: ceph-block                                                                                                                                                                                                                                                              
    copyMethod: Snapshot                                                                                                                                                                                                                                                                           
    moverSecurityContext:                                                                                                                                                                                                                                                                          
      fsGroup: 1568                                                                                                                                                                                                                                                                                
      runAsGroup: 1568                                                                                                                                                                                                                                                                             
      runAsUser: 1568                                                                                                                                                                                                                                                                              
    pruneIntervalDays: 7                                                                                                                                                                                                                                                                           
    repository: sonarr-volsync-minio                                                                                                                                                                                                                                                               
    retain:                                                                                                                                                                                                                                                                                        
      daily: 7                                                                                                                                                                                                                                                                                     
      hourly: 24                                                                                                                                                                                                                                                                                   
      weekly: 5                                                                                                                                                                                                                                                                                    
    storageClassName: ceph-block                                                                                                                                                                                                                                                                   
    volumeSnapshotClassName: ceph-block                                                                                                                                                                                                                                                            
  sourcePVC: sonarr-config                                                                                                                                                                                                                                                                         
  trigger:                                                                                                                                                                                                                                                                                         
    schedule: 0 * * * *     